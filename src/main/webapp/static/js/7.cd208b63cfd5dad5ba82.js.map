{"version":3,"sources":["webpack:///src/components/adminlogin.vue","webpack:///./src/components/adminlogin.vue?8138","webpack:///./src/components/adminlogin.vue","webpack:///./src/api/user.js"],"names":["adminlogin","data","_this2","this","ruleForm2","username","password","rules","required","validator","rule","value","callback","Error","setTimeout","test","trigger","methods","submitForm2","formName","_this3","$refs","validate","valid","_this","Object","user","then","res","status","alert","adminName","localStorage","setItem","stringify_default","admininfo","JSON","parse","getItem","$store","commit","$router","push","testVuex","console","log","components_adminlogin","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","_v","label","prop","span","$$v","$set","expression","type","autocomplete","show-password","round","on","click","$event","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","axios","post"],"mappings":"+JAqFAA,GACAC,KADA,WACA,IAAAC,EAAAC,KA0BA,OACAC,WACAC,SAAA,GACAC,SAAA,IAEAC,OACAF,WACAG,UAAA,EACAC,UAjCA,SAAAC,EAAAC,EAAAC,GACA,IAAAD,EACA,OAAAC,EAAA,IAAAC,MAAA,YAEAC,WAAA,WAEA,+BACAC,KAAAJ,GAGAC,IAFAA,EAAA,IAAAC,MAAA,iBAIA,MAsBAG,QAAA,SAEAV,WACAE,UAAA,EACAC,UAxBA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAC,MAAA,WAEAX,EAAAE,UAAAE,SAIAM,MAiBAI,QAAA,YAKAC,SACAC,YADA,SACAC,GAAA,IAAAC,EAAAjB,KACAA,KAAAkB,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAgBA,SAfA,IAAAC,EAAAJ,EACoBK,OAAAC,EAAA,EAAAD,CAApBL,EAAAhB,WAAAuB,KAAA,SAAAC,GAEA,MAAAA,EAAA3B,KAAA4B,OAAA,CACAC,MAAAF,EAAA3B,KAAA8B,WAEAC,aAAAC,QAAA,YAAAC,IAAAN,EAAA3B,OACA,IAAAkC,EAAAC,KAAAC,MAAAL,aAAAM,QAAA,cAEAd,EAAAe,OAAAC,OAAA,gBAAAL,GACAX,EAAAiB,QAAAC,KAAA,qBASAC,SAvBA,WAwBAC,QAAAC,IAAA,2BCxJeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA7C,KAAa8C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,QAAkBF,EAAA,WAAgBG,IAAA,YAAAD,YAAA,gBAAAE,OAAmDC,MAAAR,EAAA5C,UAAAG,MAAAyC,EAAAzC,MAAAkD,cAAA,WAA+DN,EAAA,MAAAH,EAAAU,GAAA,oBAAAV,EAAAU,GAAA,KAAAP,EAAA,gBAAqEI,OAAOI,MAAA,KAAAC,KAAA,cAAgCT,EAAA,UAAeI,OAAOM,KAAA,MAAWV,EAAA,YAAiBK,OAAO7C,MAAAqC,EAAA5C,UAAA,SAAAQ,SAAA,SAAAkD,GAAwDd,EAAAe,KAAAf,EAAA5C,UAAA,WAAA0D,IAAyCE,WAAA,yBAAkC,OAAAhB,EAAAU,GAAA,KAAAP,EAAA,gBAAyCI,OAAOI,MAAA,KAAAC,KAAA,cAAgCT,EAAA,UAAeI,OAAOM,KAAA,MAAWV,EAAA,YAAiBI,OAAOU,KAAA,WAAAC,aAAA,MAAAC,gBAAA,IAA0DX,OAAQ7C,MAAAqC,EAAA5C,UAAA,SAAAQ,SAAA,SAAAkD,GAAwDd,EAAAe,KAAAf,EAAA5C,UAAA,WAAA0D,IAAyCE,WAAA,yBAAkC,OAAAhB,EAAAU,GAAA,KAAAP,EAAA,gBAAAA,EAAA,aAAyDI,OAAOU,KAAA,UAAAG,MAAA,IAA4BC,IAAKC,MAAA,SAAAC,GAAyBvB,EAAA9B,YAAA,aAAA8B,EAAAL,eAA+CK,EAAAU,GAAA,oBAAAV,EAAAU,GAAA,KAAAP,EAAA,eAA2DI,OAAOiB,GAAA,YAAexB,EAAAU,GAAA,iBAEvmCe,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5E,EACA8C,GATF,EAVA,SAAA+B,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,2CC1BhCI,EAAA,EAEO,SAAwB7E,GAG3B,OAAO8E,MAAMC,KAFJ,+CAEa/E,IAL1B6E,EAAA,EAaO,SAAoB7E,GAGtB,OAAO8E,MAAMC,KAFF,yCAEW/E,IAhB3B0E,EAAA","file":"static/js/7.cd208b63cfd5dad5ba82.js","sourcesContent":["<template>\r\n<div>\r\n    <div class=\"pos\">\r\n        <el-form :model=\"ruleForm2\" :rules=\"rules\" ref=\"ruleForm2\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n            <h2>zero-error后台管理</h2>\r\n            <el-form-item label=\"账号\" prop=\"username\">\r\n                <el-col :span=\"24\">\r\n                    <el-input v-model=\"ruleForm2.username\"></el-input>\r\n                </el-col>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n                <el-col :span=\"24\">\r\n                    <el-input type=\"password\" v-model=\"ruleForm2.password\" autocomplete=\"off\" show-password></el-input>\r\n                </el-col>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n                <el-button type=\"primary\" round @click=\"submitForm2('ruleForm2'), testVuex()\">登录</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n    <router-link to=\"/login\">前往员工登录</router-link>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\n.pos {\r\n    position: absolute;\r\n    background-color: aliceblue;\r\n    top: 50%;\r\n    left: 80%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\nh2 {\r\n    text-align: center;\r\n    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;\r\n}\r\n\r\ninput {\r\n    display: block;\r\n    width: 250px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    margin: 0 auto;\r\n    margin-bottom: 10px;\r\n    outline: none;\r\n    border: 1px solid #888;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n    display: block;\r\n    width: 250px;\r\n}\r\n\r\nspan {\r\n    cursor: pointer;\r\n}\r\n\r\nspan:hover {\r\n    color: #41b883;\r\n}\r\n\r\n.el-main {\r\n    background-color: #E9EEF3;\r\n    color: #333;\r\n    text-align: center;\r\n    line-height: 160px;\r\n}\r\n\r\n.el-form {\r\n    border: #333 2px solid;\r\n    width: 400px;\r\n    border-radius: 4px;\r\n    padding: 40px 40px;\r\n}\r\n</style>\r\n\r\n<script scoped>\r\nimport {\r\n    adminlogin\r\n} from '@/api/user'\r\nexport default {\r\n    data() {\r\n        var checkTel = (rule, value, callback) => {\r\n            if (!value) {\r\n                return callback(new Error('手机号不能为空'))\r\n            }\r\n            setTimeout(() => {\r\n                // 匹配13，14，15，16,17,18开头的手机号码！\r\n                var reg = /^0?1[3|4|5|6|7|8][0-9]\\d{8}$/\r\n                if (!reg.test(value)) {\r\n                    callback(new Error('请输入正确的手机号码！'))\r\n                } else {\r\n                    callback()\r\n                }\r\n            }, 1000)\r\n        }\r\n        var validatePass = (rule, value, callback) => {\r\n            if (value === '') {\r\n                callback(new Error('请输入密码'))\r\n            } else {\r\n                if (this.ruleForm2.password !== '') {\r\n                    // this.$refs.ruleForm.validateField('checkPass');\r\n\r\n                }\r\n                callback()\r\n            }\r\n        }\r\n        return {\r\n            ruleForm2: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            rules: {\r\n                username: [{\r\n                    required: true,\r\n                    validator: checkTel,\r\n                    trigger: 'blur'\r\n                }],\r\n                password: [{\r\n                    required: true,\r\n                    validator: validatePass,\r\n                    trigger: 'blur'\r\n                }]\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        submitForm2(formName) {\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    let _this = this\r\n                    adminlogin(this.ruleForm2).then((res) => {\r\n\r\n                        if (res.data.status==1) {\r\n                          alert(res.data.adminName)\r\n                            // 存入本地存储\r\n                            localStorage.setItem('admininfo', JSON.stringify(res.data))\r\n                            let admininfo = JSON.parse(localStorage.getItem('admininfo'))\r\n                            // 把当前用户数据存入到state\r\n                            _this.$store.commit('GET_ADMININFO', admininfo)\r\n                            _this.$router.push('/home/store')\r\n                        \r\n                        }\r\n                    })\r\n                } else {\r\n                    return false\r\n                }\r\n            })\r\n        },\r\n        testVuex() {\r\n            console.log(\"进入testVuex测试方法......\")\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/adminlogin.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pos\"},[_c('el-form',{ref:\"ruleForm2\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm2,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('h2',[_vm._v(\"zero-error后台管理\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-input',{model:{value:(_vm.ruleForm2.username),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"username\", $$v)},expression:\"ruleForm2.username\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"show-password\":\"\"},model:{value:(_vm.ruleForm2.password),callback:function ($$v) {_vm.$set(_vm.ruleForm2, \"password\", $$v)},expression:\"ruleForm2.password\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.submitForm2('ruleForm2'), _vm.testVuex()}}},[_vm._v(\"登录\")])],1)],1)],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"前往员工登录\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8d76c92\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/adminlogin.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8d76c92\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./adminlogin.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminlogin.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./adminlogin.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8d76c92\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./adminlogin.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8d76c92\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/adminlogin.vue\n// module id = null\n// module chunks = ","import '@/plugins/axios'\r\n//员工登录 username password\r\nexport function employeesLogin(data){\r\n const url = 'http://localhost:8080/employee/employeeLogin';\r\n// const url = 'http://192.168.43.102:8080/employee/employeeLogin';\r\n    return axios.post(url,data)\r\n}\r\n\r\n//员工退出\r\nexport function employeesOut(){\r\n\r\n}\r\n//管理员登录 username password\r\nexport function adminlogin(data){\r\n    const url = 'http://localhost:8080/admin/adminLogin'\r\n    // const url = 'http://192.168.43.102:8080/admin/adminLogin'\r\n     return axios.post(url,data);\r\n}\r\n//管理员退出\r\nexport function adminOut(){\r\n\r\n}\r\n\r\n//查询会员\r\nexport function getVip(){\r\n\r\n    return 0;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/user.js"],"sourceRoot":""}