webpackJsonp([10],{"9jLh":function(t,o){},UCIx:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("qsHl"),l={data:function(){return{options:[],value:[],list:[],imageUrl:"http://192.168.43.102:8080/resources/img/1.jpg",fileList:[],typeGoods:[],loading:!1,addtypeform:{name:""},dialogFormVisible:!1,dialogFormVisible1:!1,formLabelWidth:"60px",form:{},foodtype:""}},mounted:function(){},methods:{handleAvatarSuccess:function(t,o){this.imageUrl=URL.createObjectURL(o.raw)},addGood:function(){var t=this;this.dialogFormVisible=!0,Object(a.a)(this.form).then(function(o){1==o.data.status?(t.dialogFormVisible=!1,alert("添加成功！")):alert("添加失败！")})},addType:function(){var t=this;console.log("添加的种类的名"+this.addtypeform.name),this.dialogFormVisible1=!0,Object(a.b)(this.addtypeform).then(function(o){1==o.data.status?(t.dialogFormVisible1=!1,alert("添加成功！")):alert("添加失败！")})},deleteGood:function(t){Object(a.c)(t).then(function(t){1==t.data.status&&alert("删除成功")})},getfoods:function(t,o){var e=this,l=parseInt(t.index);if(console.log(l),l<0)console.log("正在向后台获取所有桌子...");else if(l<=this.foodtype.length){console.log("正在向后台获取类型为"+this.foodtype[l].category+"的食品.....");var i=this.foodtype[l].goodsCategoryId;Object(a.d)(i).then(function(t){t.data&&(e.typeGoods=t.data.goods)})}}},created:function(){var t=this;console.log("正在加载商品信息"),Object(a.e)().then(function(o){if(o.data){t.foodtype=o.data.goodsCategory,console.log(t.foodtype);var e=t.foodtype[0].goodsCategoryId;Object(a.d)(e).then(function(o){o.data&&(t.typeGoods=o.data.goods)})}})}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"goods-type"},[e("el-tabs",{on:{"tab-click":t.getfoods}},t._l(t.foodtype,function(o,a){return e("el-tab-pane",{key:a,attrs:{label:o.category}},[e("ul",{staticClass:"cookList"},t._l(t.typeGoods,function(o,a){return e("li",{key:a},[e("span",{staticClass:"foodImg"},[e("img",{attrs:{src:o.pictureUrl,height:"80px",width:"100px"}})]),t._v(" "),e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.deleteGood(o.goodsId)}}},[t._v("删除")]),t._v(" "),e("span",{staticClass:"foodName"},[t._v(t._s(o.name))]),t._v(" "),e("span",{staticClass:"foodPrice"},[t._v("￥"+t._s(o.price)+"元")])],1)}),0)])}),1),t._v(" "),e("el-tabs",[e("el-tab-pane",{attrs:{label:"添加类别或商品"}},[e("el-button",{attrs:{type:"text"},on:{click:function(o){t.dialogFormVisible1=!0}}},[t._v("添加种类")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(o){t.dialogFormVisible2=!0}}},[t._v("删除种类")]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(o){t.dialogFormVisible=!0}}},[t._v("添加商品")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"添加种类",visible:t.dialogFormVisible1,width:"300px"},on:{"update:visible":function(o){t.dialogFormVisible1=o}}},[e("el-form",{attrs:{model:t.addtypeform}},[e("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.addtypeform.name,callback:function(o){t.$set(t.addtypeform,"name",o)},expression:"addtypeform.name"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogFormVisible1=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addType}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"添加商品",visible:t.dialogFormVisible,width:"300px"},on:{"update:visible":function(o){t.dialogFormVisible=o}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(o){t.$set(t.form,"name",o)},expression:"form.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"价格","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.price,callback:function(o){t.$set(t.form,"price",o)},expression:"form.price"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"种类","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择商品种类"},model:{value:t.form.goodsCategoryId,callback:function(o){t.$set(t.form,"goodsCategoryId",o)},expression:"form.goodsCategoryId"}},t._l(this.foodtype,function(t){return e("el-option",{key:t.goodsCategoryId,attrs:{label:t.category,value:t.goodsCategoryId}})}),1)],1),t._v(" "),e("el-form-item",{attrs:{label:"图片","label-width":t.formLabelWidth}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://192.168.43.102:8080/resources/img","show-file-list":!1,"on-success":t.handleAvatarSuccess}},[t.imageUrl?e("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.addGood}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var s=e("VU/8")(l,i,!1,function(t){e("9jLh")},"data-v-1ff25f52",null);o.default=s.exports}});
//# sourceMappingURL=10.75685344a4506b8c5863.js.map